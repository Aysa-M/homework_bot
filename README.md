# BOT-ASSISTENT - Telegram-бот (далее - "бот")

## Описание проекта

***Функционал бота:***

  - *обращается к API сервиса Практикум.Домашка:* узнает статус отправленной на ревью домашней работы,
раз в 10 минут, спрашивая сервис с помощью уникального для каждого пользователя API token: взята ли
ваша домашняя работа в ревью, проверена ли она, а если проверена — то принял её ревьюер или вернул на
доработку. Если статус работы изменился, бот анализирует ответ API и отправляет соответствующее
уведомление в Telegram;

  - *логирует свою работу и сообщает о важных проблемах сообщением в Telegram.*;

  - *присылает сообщения о статусе выполнения workflow, подключенного стороннего проекта*, т.о. бот
позволяет следить за процессом workflow проекта, выполняющегося на GitActions (если вы используете его).

***Подробное описание кода:***

  - *Функция main()*: в ней описана основная логика работы программы. Все остальные функции запускаются из
неё. Последовательность действий должна быть примерно такой:
    а. Сделать запрос к API.
    б. Проверить ответ.
    в. Если есть обновления — получить статус работы из обновления и отправить сообщение в Telegram.
    г. Подождать некоторое время и сделать новый запрос.

  - *Функция check_tokens()* проверяет доступность переменных окружения, которые необходимы для работы
программы. Если отсутствует хотя бы одна переменная окружения — функция вернет False, иначе — True.

  - *Функция get_api_answer()* делает запрос к единственному эндпоинту API-сервиса. В качестве параметра
функция получает временную метку. В случае успешного запроса должна вернуть ответ API, преобразовав его из
формата JSON к типам данных Python.

  - *Функция check_response()* проверяет ответ API на корректность. В качестве параметра функция получает
ответ API, приведенный к типам данных Python. Если ответ API соответствует ожиданиям, то функция должна
вернуть список домашних работ (он может быть и пустым), доступный в ответе API по ключу 'homeworks'.

  - *Функция parse_status()* извлекает из информации о конкретной домашней работе статус этой работы. В
качестве параметра функция получает только один элемент из списка домашних работ. В случае успеха,
функция возвращает подготовленную для отправки в Telegram строку, содержащую один из вердиктов словаря
HOMEWORK_STATUSES.

  - *Функция send_message()* отправляет сообщение в Telegram чат, определяемый переменной окружения
TELEGRAM_CHAT_ID. Принимает на вход два параметра: экземпляр класса Bot и строку с текстом сообщения.

## Деплой бота:
1. Клонируйте репозиторий:
    *$ git clone https://github.com/Aysa-M/homework_bot.git*
 
2. Создайте виртуальное окружение - должен быть флажок (venv)в начале строки:
    *$ python -m venv venv*
 
3. Установите зависимости:
    *$ pip install -r requirements.txt*

4. Создайте аккаунт бота в мессенджере Telegram:
    
    - *Найдите в Telegram бота @BotFather*: в окно поиска над списком контактов введите его имя.
    Обратите внимание на иконку возле имени бота: белая галочка на голубом фоне. Эту иконку
    устанавливают администраторы Telegram, она означает, что бот настоящий.

    - *Зарегистрируйте бота.*
    Начните диалог с ботом @BotFather: нажмите кнопку Start («Запустить»). Затем отправьте
    команду /newbot и укажите параметры нового бота:
       *имя (на любом языке), под которым ваш бот будет отображаться в списке контактов;
       *техническое имя вашего бота, по которому его можно будет найти в Telegram. Имя должно быть
        уникальным и оканчиваться на слово bot в любом регистре, например Kittybot, kitty_bot.
       *Если аккаунт создан, @BotFather поздравит вас и отправит в чат токен для работы с Bot API.

    - *Настройте аккаунт бота через @BotFather.*
    Отправьте команду /mybots и вы получите список ботов, которыми вы управляете. Укажите бота,
    которого нужно отредактировать, и нажмите кнопку Edit Bot.
    Можно изменить:
    Имя бота (Edit Name).
    Описание (Edit Description) — текст, который пользователи увидят в самом начале диалога с
    ботом под заголовком «Что может делать этот бот?»
    Общую информацию (Edit About) — текст, который будет виден в профиле бота.
    Картинку-аватар (Edit Botpic).
    Команды (Edit Commands) — подсказки для ввода команд.

5. Необходимо задеплоить бот на боевом сервере:
    Необходимо найти хостинг, где вы бы хотели разместить свой проект и развернуть проект там. 

**Примечание! Вы также можете подключить к ассистенту подобные операции для отслеживания статуса процессов**
**или получения важных уведомлений.**

## Технологии (основные инструменты):
- Python==3.7
- flake8==3.9.2
- flake8-docstrings==1.6.0
- pytest==6.2.5
- python-dotenv==0.19.0
- python-telegram-bot==13.7
- requests==2.26.0

## Авторы:
**Matsakova Aysa**
